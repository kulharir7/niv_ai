{
  "actions": [],
  "autoname": "hash",
  "creation": "2026-02-09 00:00:00",
  "doctype": "DocType",
  "engine": "InnoDB",
  "field_order": [
    "conversation", "role", "content",
    "column_break_1",
    "model", "input_tokens", "output_tokens", "total_tokens", "cost",
    "tool_section",
    "tool_calls_json", "tool_results_json",
    "meta_section",
    "response_time_ms", "is_error", "error_message", "is_pinned",
    "reactions_section", "reactions_json"
  ],
  "fields": [
    {"fieldname": "conversation", "fieldtype": "Link", "label": "Conversation", "options": "Niv Conversation", "reqd": 1},
    {"fieldname": "role", "fieldtype": "Select", "label": "Role", "options": "user\nassistant\nsystem\ntool", "reqd": 1},
    {"fieldname": "content", "fieldtype": "Long Text", "label": "Content"},
    {"fieldname": "column_break_1", "fieldtype": "Column Break"},
    {"fieldname": "model", "fieldtype": "Data", "label": "Model"},
    {"fieldname": "input_tokens", "fieldtype": "Int", "label": "Input Tokens", "default": "0"},
    {"fieldname": "output_tokens", "fieldtype": "Int", "label": "Output Tokens", "default": "0"},
    {"fieldname": "total_tokens", "fieldtype": "Int", "label": "Total Tokens", "default": "0"},
    {"fieldname": "cost", "fieldtype": "Currency", "label": "Cost", "default": "0"},
    {"fieldname": "tool_section", "fieldtype": "Section Break", "label": "Tool Data", "collapsible": 1},
    {"fieldname": "tool_calls_json", "fieldtype": "Code", "label": "Tool Calls", "options": "JSON"},
    {"fieldname": "tool_results_json", "fieldtype": "Code", "label": "Tool Results", "options": "JSON"},
    {"fieldname": "meta_section", "fieldtype": "Section Break", "label": "Meta", "collapsible": 1},
    {"fieldname": "response_time_ms", "fieldtype": "Int", "label": "Response Time (ms)", "default": "0"},
    {"fieldname": "is_error", "fieldtype": "Check", "label": "Error", "default": "0"},
    {"fieldname": "error_message", "fieldtype": "Text", "label": "Error Message"},
    {"fieldname": "is_pinned", "fieldtype": "Check", "label": "Pinned", "default": "0"},
    {"fieldname": "reactions_section", "fieldtype": "Section Break", "label": "Reactions", "collapsible": 1},
    {"fieldname": "reactions_json", "fieldtype": "Code", "label": "Reactions", "options": "JSON"}
  ],
  "links": [],
  "modified": "2026-02-09 00:00:00",
  "modified_by": "Administrator",
  "module": "Niv Core",
  "name": "Niv Message",
  "naming_rule": "Random",
  "owner": "Administrator",
  "permissions": [
    {"role": "System Manager", "read": 1, "write": 1, "create": 1, "delete": 1},
    {"role": "All", "read": 1, "write": 1, "create": 1, "if_owner": 1}
  ],
  "sort_field": "creation",
  "sort_order": "ASC"
}
